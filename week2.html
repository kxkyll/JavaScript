<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>Javascript by kxkyll</TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 3.5  (Linux)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGEDBY" CONTENT="Marko Haanranta">
	<META NAME="CHANGED" CONTENT="20131113;17585400">
	<META NAME="" CONTENT="">
	<META NAME="CHANGEDBY" CONTENT="Marko Haanranta">
	<META HTTP-EQUIV="X-UA-Compatible" CONTENT="chrome=1">
	<!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<STYLE TYPE="text/css">
	<!--
		H1 { color: #000000; line-height: 100% }
		P { color: #000000; line-height: 100% }
		p { color: #000000; line-height: 100% }
		H2 { color: #000000; line-height: 100% }
		H2.cjk { font-family: "WenQuanYi Zen Hei" }
		H2.ctl { font-family: "Lohit Hindi" }
		PRE { color: #000000; line-height: 100% }
		PRE.cjk { font-family: "WenQuanYi Zen Hei Mono", monospace }
		PRE.ctl { font-family: "Lohit Hindi", monospace }
		CODE.cjk { font-family: "WenQuanYi Zen Hei Mono", monospace }
		CODE.ctl { font-family: "Lohit Hindi", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="fi-FI" TEXT="#000000" DIR="LTR" STYLE="border: none; padding: 0cm">
<DIV ID="container" DIR="LTR">
	<H1 LANG="en-GB">Javascript</H1>
	<H2 LANG="en-GB" CLASS="western">2. viikko</H2>
	<P LANG="en-GB"><EM><SPAN LANG="en-GB">Tekijät:</SPAN></EM><SPAN LANG="en-GB">
	Marko Haanranta, Kasper Kivikataja, Kati Kyllönen, Jussi Miestamo</SPAN></P>
	<P LANG="en-GB"><SPAN LANG="en-GB"><A HREF="index.html">Pääsivu</A>
	<BR><A HREF="../JavaScript">2. viikko</A> <BR><A HREF="week3.html">3.
	viikko</A> <BR><A HREF="week4.html">4. viikko</A> </SPAN>
	</P>

	<p>Javascriptissä muuttujat ja parametrit ovat tyypittömiä, mutta niiden arvoilla on tyypit. Javascriptin tietotyypit ovat merkkijono (string), luku (number), totuusarvo (boolean), taulukko (array), objekti (object), olematon (null) ja määrittelemätön (undefined). Vaikka muuttujilla ei olekaan tyyppiä, on arvojen tyyppejä syytä tarkistaa, jotta ohjelmat eivät tuottaisi odottamattomia tuloksia. Erityisesti käyttäjän syötteitä on hyvä tarkastella virheiden varalta. Javascriptissä yhteenlasku voidaan suorittaa ongelmitta luvun ja String-tyypin olion välillä.</p>

<div class="highlight"><pre><span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="p">)}</span>
<span class="nx">write</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s2">"w4"</span><span class="p">))</span>                          <span class="c1">//tulostaa "2w4"</span>
</pre></div>

<p>Javascript tarjoaa - kuten tunnettua - funktiot <code>parseInt()</code> ja <code>parseFloat()</code> kokonais- tai liukulukujen eristämiseen syötteestä: jos syöte alkaa numerolla, siitä erotetaan numero-osa, ja loppu jätetään huomiotta. Joissain tapauksessa tämä on täysin riittävä tapa varmistaa se, että syöte on kelvollista. Jos ohjelmoija odottaa saavansa syötteenä esimerkiksi kokonaisluvun, vaaraa ei ole, koska <code>parseInt()</code> palauttaa aina kokonaisluvun tai tietotyypin <code>undefined</code>. Tietysti ohjelmakoodin pitää olla rakennettu niin, että <code>undefined</code>:iin on varauduttu, mutta käytettiin mitä tahansa keinoa tyyppien tarkastamiseen, <code>Undefined</code>:iin on joka tapauksessa aina varauduttava, jotta ohjelman toiminta olisi ennakoitavaa.</p>

<p>Vaikka yllä oleva esimerkki on yksinkertainen, pelkkä <code>Undefined</code>:iin varautuminen ei riitä. Koska oletettavaa on, että käyttäjä (tai funktiota kutsuva ohjelmoija) ei kirjoita syötteeseen lainausmerkkejä, esimerkin syötteen tekee kelvottomaksi todennäköisemmin käyttäjän lyöntivirhe:</p>

<div class="highlight"><pre><span class="n">write</span><span class="p">(</span><span class="n">sum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">w4</span><span class="p">))</span>                   <span class="c1">//Tulostaa konsoliin ReferenceError: w4 is not defined;</span>
</pre></div>

<p>Tällaisten tilanteiden varalta pitäisikin tarkistaa, onko syöte ylipäätään kokonaisluku. On onnekasta, jos syöte alkaa numeroilla, mutta jos ei ala, <code>parseInt()</code> ei pelasta.</p>

<p>Tyyppien tarkistus ohjelmakoodissa on erityisen tärkeää juuri käyttäjän syötettä käsiteltäessä...</p>

<p>Ehdotus kirjastofunktiosta tyyppitarkastusten tekemiseksi.</p>

<ul>
<li>Tarkastusfunktio onko muuttujassa arvo</li>
</ul><div class="highlight"><pre><span class="kd">function</span> <span class="nx">hasValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
	
	<SPAN LANG="en-GB">Javascript is maintained by <A HREF="https://github.com/kxkyll">kxkyll</A><BR>This
	page was generated by <A HREF="http://pages.github.com/">GitHub
	Pages</A>. Tactile theme by <A HREF="https://twitter.com/jasonlong">Jason
	Long</A>. </SPAN>
	</P>
</DIV>
</BODY>
</HTML>
